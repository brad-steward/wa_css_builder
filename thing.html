<style>
	@-webkit-keyframes modalbox {
		0% {
			top: -250px;
			opacity: 0;
		}
		100% {
			top: 0;
			opacity: 1;
		}
	}

	@keyframes modalbox {
		0% {
			top: -250px;
			opacity: 0;
		}
		100% {
			top: 0;
			opacity: 1;
		}
	}

	.weather-alert {
		margin-bottom: 20px;
	}

	.weather-alert {
		text-transform: uppercase;
		font-family: sans-serif;
		text-align: center;
	}

	.weather-alert.gg {
		font-family: 'Hind Siliguri', sans-serif;
	}

	.weather-alert.fns {
		font-family: 'Lato', sans-serif;
	}

	.weather-alert.dsg {
		font-family: 'Roboto', sans-serif;
	}

	.weather-alert__header {
		background-color: #d1222a;
		color: white;
		padding: 10px 0;
		font-size: 18px;
	}

	.weather-alert__body--main {
		color: #d1222a;
		padding: 10px 10% 0;
		font-size: 14px;
	}

	.weather-alert__body--main .wa-tel {
		color: black;
		text-decoration: none;
	}

	.weather-alert__body--link,
	.weather-alert__body--link:active,
	.weather-alert__body--link:hover,
	.weather-alert__body--link:visited {
		text-decoration: none;
		color: grey;
		text-decoration: none;
		font-size: 9px;
	}

	.weather-alert__modal {
		display: none;
		z-index: 900;
		postion: absolute;
		width: 100%;
		height: 100%;
		left: 0;
		top: 0;
		background: white;
		background: rgba(0, 0, 0, 0.2);
		overflow: scroll;
	}

	.weather-alert__modal .wa-modal-sandbox {
		position: absolute;
		width: 100%;
		height: 100%;
		top: 0;
		left: 0;
		background: transparent;
	}

	.weather-alert__modal .wa-modal-box {
		position: relative;
		width: 80%;
		max-width: 960px;
		margin: 100px auto;
		-webkit-animation-name: modalbox;
		animation-name: modalbox;
		-webkit-animation-duration: 0.3s;
		animation-duration: 0.3s;
		-webkit-animation-timing-function: ease-out;
		animation-timing-function: ease-out;
		background-color: white;
	}

	.weather-alert__modal .wa-modal-box .wa-modal-header {
		background: #d1222a;
		color: white;
		padding: 5px 0;
	}

	.weather-alert__modal .wa-modal-box .wa-modal-header h1 {
		margin: 0;
	}

	.weather-alert__modal .wa-modal-box .wa-modal-header .wa-close-modal {
		text-align: right;
		top: 3.5%;
		right: 10px;
		position: absolute;
		cursor: pointer;
	}

	.weather-alert__modal .wa-modal-box .wa-store-list {
		margin-top: 10px;
	}

	.weather-alert__modal .wa-modal-box .wa-store-list__header {
		font-size: 10px;
	}

	.weather-alert__modal .wa-modal-box .wa-store-list__body {
		max-height: 300px;
		overflow: scroll;
		padding-top: 20px;
		padding-bottom: 20px;
	}

	.weather-alert__modal .wa-modal-box .wa-store-list__body--state {
		border-bottom: #d1222a 1px solid;
	}

	.weather-alert__modal .wa-modal-box .wa-store-list__body--list {
		list-style: circle;
		width: 14%;
		margin: 0 auto;
		padding-right: 40px;
		margin-top: 10px;
	}

	.weather-alert__modal .wa-modal-box .wa-store-list__body--list:not(:last-child) {
		margin-bottom: 30px;
	}

	.weather-alert__ticker .weather-alert__header {
		display: -webkit-box;
		display: -ms-flexbox;
		display: flex;
		-webkit-box-orient: vertical;
		-webkit-box-direction: normal;
		-ms-flex-direction: column;
		flex-direction: column;
	}

	.weather-alert__ticker--subheader {
		font-size: 10px;
		color: white;
	}

	.weather-alert__ticker--subheader:hover,
	.weather-alert__ticker--subheader:active {
		color: white;
		font-size: 10px;
	}
</style>

<div class="weather-alert dsg">
	<div class="weather-alert__modal" id="wa-modal">
		<div class="wa-modal-sandbox"></div>
		<div class="wa-modal-box">
			<div class="wa-modal-header">
				<div class="wa-close-modal">&#10006;</div>
				<h1>Simple modal box</h1>
			</div>
			<div class="wa-modal-body">
				<div class="weather-alert__body">
					<div class="weather-alert__body--main">
						due to severe weather conditions, there may be order fulfillment delays and store closures for some customers over the next
						several days.
						<br>If you have questions about an order, please contact us via chat online or by calling customer service at
						<a class="wa-tel"
						    href="tel:1-877-846-9997">1-877-846-9997</a>.
					</div>
					<div class="wa-store-list">
						<div class="wa-store-list__header">Stores Affected</div>
						<div class="wa-store-list__body" id="store-insert">
						</div>
					</div>
				</div>
				<!--<button class="wa-close-modal">Close!</button>-->
			</div>
		</div>
	</div>
	<div class="weather-alert__banner">
		<div class="weather-alert__header">
			Severe Weather Alert
		</div>
		<div class="weather-alert__body">
			<div class="weather-alert__body--main">
				Due to severe weather condition, there may be order fulfillment delays and store closures for some customers.
			</div>
			<a href="javascript:void(0);" data-modal="wa-modal" class="modal-trigger weather-alert__body--link">Learn More</a>
		</div>
	</div>
	<div class="weather-alert__ticker">
		<div class="weather-alert__header">
			<span>Severe Weather Alert</span>
			<a href="javascript" data-modal="wa-modal" class="weather-alert__ticker--subheader modal-trigger weather-alert__body--link">Learn More</a>
		</div>
	</div>
</div>

<script>
	$(".modal-trigger").click(function (e) {
		e.preventDefault();
		dataModal = $(this).attr("data-modal");
		$("#" + dataModal).css({
			display: "block"
		});
		bulidStateList();
	});

	$(".wa-close-modal, .wa-modal-sandbox").click(function () {
		$(".weather-alert__modal").css({
			display: "none"
		});
	});

	var demoStates = [{
			name: "New York",
			stores: ["Dewitt", "New Hartford", "Syracuse"]
		},
		{
			name: "Ohio",
			stores: ["Columbus"]
		}
	];

	function buildStateList() {
		var states = demoStates;
		var statesHTMLString = "";
		states.forEach(function (item) {
			var stateHtmlString = "";
			stateHTMLString =
				'<span class="wa-store-list__body--state">' + item.name + "</span>";
			stateHTMLString += '<ul class="wa-store-list__body--list">';
			item.stores.forEach(function (store) {
				stateHTMLString += "<li>" + store + "</li>";
			});
			stateHTMLString += "</ul>";
			statesHTMLString += stateHTMLString;
		});

		$("#store-insert").html(statesHTMLString);
	}
</script>